//------------------------------------------------------------------------------
// <auto-generated>
//     Il codice Ã¨ stato generato da uno strumento.
//     Versione runtime:2.0.50727.3625
//
//     Le modifiche apportate a questo file possono provocare un comportamento non corretto e andranno perse se
//     il codice viene rigenerato.
// </auto-generated>
//------------------------------------------------------------------------------

namespace SendMail.Data.OracleDb.OracleObjects
{
    using System;
    using System.Xml.Serialization;
    using System.Xml.Schema;
    using SendMail.Model.ComunicazioniMapping;
    using System.Collections.Generic;
    using System.Linq;
    using SendMail.Model;
    using OracleClient = global::Oracle.DataAccess.Client;
    using OracleTypes = global::Oracle.DataAccess.Types;

    public class ComunicazioniType : Comunicazioni, OracleTypes.INullable, OracleTypes.IOracleCustomType, IXmlSerializable
    {
        #region "Private Fields"
        private bool m_IsNull;
        private RubrEntitaUsedListType m_RUBR_ENTITA_USED;
        private long m_REF_ID_SOTTOTITOLO;
        private bool m_REF_ID_SOTTOTITOLOIsNull;
        private string m_NOTE_TIT;
        private string m_COM_CODE;
        private string m_FLG_NOTIFICA;
        private string m_UTE_INS;
        private string m_MAIL_NOTIFICA;
        private ComFlussoListType m_COM_FLUSSI;
        private ComFlussoListType m_COM_FLUSSI_PROT;
        private string m_TITOLO;
        private ComAllegatoListType m_COM_ALLEGATI;
        private string m_NOTE_SOT;
        private string m_APP_CODE;
        private string m_SOTTOTITOLO;
        private MailContentType m_MAIL_COM;
        private string m_COD_APP_INS;
        private long m_ID_COM;
        private bool m_ID_COMIsNull;
        private string m_ORIG_UID;
        private bool m_AZ_PROTIsNull;
        private int m_AZ_PROT;
        private bool m_IN_OUTIsNull;
        private int m_IN_OUT;
        #endregion

        #region "C.tor"
        public ComunicazioniType()
        {
            // TODO : Add code to initialise the object
            this.m_REF_ID_SOTTOTITOLOIsNull = true;
            this.m_ID_COMIsNull = true;
            this.m_AZ_PROTIsNull = true;
            this.m_IN_OUTIsNull = true;
        }

        public ComunicazioniType(Comunicazioni c)
            : base(c)
        {
            if (c == null || c.IsValid == false)
            {
                this.m_IsNull = true;
                return;
            }

            this.m_AZ_PROTIsNull = false;
            this.m_ID_COMIsNull = !c.IdComunicazione.HasValue;
            this.m_IN_OUTIsNull = (c.TipoCom == TipoComunicazione.UNKNOWN);
            this.m_REF_ID_SOTTOTITOLOIsNull = !c.RefIdSottotitolo.HasValue;

            this.m_FLG_NOTIFICA = Convert.ToInt32(c.IsToNotify).ToString();

            ComFlussoListType cl;
            if (c.ComFlussi == null)
            {
                cl = ComFlussoListType.Null;
            }
            else
            {
                cl = new ComFlussoListType();

                var fl = c.ComFlussi.SelectMany(f => f.Value);
                if (fl.Count() > 0)
                {
                    cl.ComFlusso = fl.Select(f => (ComFlussoType)f).ToArray();
                }
            }
            this.m_COM_FLUSSI = cl;

            ComFlussoListType clProt;
            if (c.ComFlussiProtocollo == null)
            {
                clProt = ComFlussoListType.Null;
            }
            else
            {
                clProt = new ComFlussoListType();
                if (c.ComFlussiProtocollo.Count > 0)
                {
                    clProt.ComFlusso = c.ComFlussiProtocollo.Select(cfp => (ComFlussoType)cfp).ToArray();
                }
            }
            this.m_COM_FLUSSI_PROT = clProt;

            ComAllegatoListType cal;
            if (c.ComAllegati == null)
            {
                cal = ComAllegatoListType.Null;
            }
            else
            {
                cal = new ComAllegatoListType();
                cal.ComAllegati = c.ComAllegati.Select(ca => new ComAllegatoType(ca)).ToArray();
            }
            this.m_COM_ALLEGATI = cal;

            MailContentType mc;
            if (c.MailComunicazione == null)
            {
                mc = MailContentType.Null;
            }
            else
            {
                mc = new MailContentType(c.MailComunicazione);
            }
            this.m_MAIL_COM = mc;

            this.m_AZ_PROT = Convert.ToInt32(c.DaProtocollare);
            this.m_IN_OUT = (int)c.TipoCom;
        }

        public ComunicazioniType(string str)
        {
            // TODO : Add code to initialise the object based on the given string 
        }
        #endregion

        #region "Public Properties"
        public virtual bool IsNull
        {
            get
            {
                return this.m_IsNull;
            }
        }

        public static ComunicazioniType Null
        {
            get
            {
                ComunicazioniType obj = new ComunicazioniType();
                obj.m_IsNull = true;
                return obj;
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("RUBR_ENTITA_USED")]
        public RubrEntitaUsedListType RUBR_ENTITA_USED
        {
            get
            {
                return this.m_RUBR_ENTITA_USED;
            }
            set
            {
                this.m_RUBR_ENTITA_USED = value;

                if (this.m_RUBR_ENTITA_USED.IsNull)
                {
                    base.RubricaEntitaUsed = null;
                }
                else
                {
                    base.RubricaEntitaUsed = this.m_RUBR_ENTITA_USED.RubricaEntitaUsed.Cast<RubrEntitaUsed>().ToList();
                }
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("REF_ID_SOTTOTITOLO")]
        public override long? RefIdSottotitolo
        {
            get
            {
                if (this.m_REF_ID_SOTTOTITOLOIsNull == true) return null;
                return this.m_REF_ID_SOTTOTITOLO;
            }
            set
            {
                this.m_REF_ID_SOTTOTITOLOIsNull = !(value.HasValue);
                if (value.HasValue)
                    this.m_REF_ID_SOTTOTITOLO = (long)value;
            }
        }

        public bool REF_ID_SOTTOTITOLOIsNull
        {
            get
            {
                return this.m_REF_ID_SOTTOTITOLOIsNull;
            }
            set
            {
                this.m_REF_ID_SOTTOTITOLOIsNull = value;
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("NOTE_TIT")]
        public override string NoteTitolo
        {
            get
            {
                return this.m_NOTE_TIT;
            }
            set
            {
                this.m_NOTE_TIT = value;
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("COM_CODE")]
        public override string ComCode
        {
            get
            {
                return this.m_COM_CODE;
            }
            set
            {
                this.m_COM_CODE = value;
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("FLG_NOTIFICA")]
        public string FLG_NOTIFICA
        {
            get
            {
                return this.m_FLG_NOTIFICA;
            }
            set
            {
                this.m_FLG_NOTIFICA = value;

                int daNotificare = 0;
                if (!String.IsNullOrEmpty(value))
                    if (int.TryParse(value, out daNotificare))
                        base.IsToNotify = Convert.ToBoolean(daNotificare);
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("UTE_INS")]
        public override string UtenteInserimento
        {
            get
            {
                return this.m_UTE_INS;
            }
            set
            {
                this.m_UTE_INS = value;
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("MAIL_NOTIFICA")]
        public override string MailNotifica
        {
            get
            {
                return this.m_MAIL_NOTIFICA;
            }
            set
            {
                this.m_MAIL_NOTIFICA = value;
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("COM_FLUSSI")]
        public ComFlussoListType COM_FLUSSI
        {
            get
            {
                return this.m_COM_FLUSSI;
            }
            set
            {
                this.m_COM_FLUSSI = value;

                if (value.IsNull == false)
                {
                    base.ComFlussi = (from f in value.ComFlusso
                                      group f by f.CANALE into gr
                                      select new
                                      {
                                          Key = gr.Key,
                                          Values = gr
                                      }).ToDictionary(x => (TipoCanale)Enum.Parse(typeof(TipoCanale), x.Key, true), x => (List<ComFlusso>)x.Values.Select(i => (ComFlusso)i).ToList());
                }
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("COM_FLUSSI_PROT")]
        public ComFlussoListType COM_FLUSSI_PROT
        {
            get
            {
                return this.m_COM_FLUSSI_PROT;
            }
            set
            {
                this.m_COM_FLUSSI_PROT = value;
                if (value.IsNull == false)
                {
                    base.ComFlussiProtocollo =
                        this.m_COM_FLUSSI_PROT.ComFlusso.Select(cfp => (ComFlussoProtocollo)cfp).ToList();
                }
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("TITOLO")]
        public override string Titolo
        {
            get
            {
                return this.m_TITOLO;
            }
            set
            {
                this.m_TITOLO = value;
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("COM_ALLEGATI")]
        public ComAllegatoListType COM_ALLEGATI
        {
            get
            {
                return this.m_COM_ALLEGATI;
            }
            set
            {
                this.m_COM_ALLEGATI = value;
                if (value.IsNull == false)
                {
                    base.ComAllegati = value.ComAllegati.Cast<ComAllegato>().ToList();
                }
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("NOTE_SOT")]
        public override string NoteSottotitolo
        {
            get
            {
                return this.m_NOTE_SOT;
            }
            set
            {
                this.m_NOTE_SOT = value;
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("APP_CODE")]
        public override string AppCode
        {
            get
            {
                return this.m_APP_CODE;
            }
            set
            {
                this.m_APP_CODE = value;
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("SOTTOTITOLO")]
        public override string Sottotitolo
        {
            get
            {
                return this.m_SOTTOTITOLO;
            }
            set
            {
                this.m_SOTTOTITOLO = value;
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("MAIL_COM")]
        public MailContentType MAIL_COM
        {
            get
            {
                return this.m_MAIL_COM;
            }
            set
            {
                this.m_MAIL_COM = value;
                if (value.IsNull == false)
                {
                    base.MailComunicazione = value;
                }
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("COD_APP_INS")]
        public override string CodAppInserimento
        {
            get
            {
                return this.m_COD_APP_INS;
            }
            set
            {
                this.m_COD_APP_INS = value;
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("ID_COM")]
        public override long? IdComunicazione
        {
            get
            {
                if (this.m_ID_COMIsNull == true) return null;
                return this.m_ID_COM;
            }
            set
            {
                this.m_ID_COMIsNull = !(value.HasValue);
                if (value.HasValue)
                    this.m_ID_COM = (long)value;
            }
        }

        public bool ID_COMIsNull
        {
            get
            {
                return this.m_ID_COMIsNull;
            }
            set
            {
                this.m_ID_COMIsNull = value;
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("ORIG_UID")]
        public override string OrigUID
        {
            get
            {
                return this.m_ORIG_UID;
            }
            set
            {
                this.m_ORIG_UID = value;
            }
        }

        public bool AZ_PROTIsNull
        {
            get { return this.m_AZ_PROTIsNull; }
            set { this.m_AZ_PROTIsNull = value; }
        }

        [OracleTypes.OracleObjectMappingAttribute("AZ_PROT")]
        public int AZ_PROT
        {
            get { return this.m_AZ_PROT; }
            set
            {
                this.m_AZ_PROT = value;
                base.DaProtocollare = Convert.ToBoolean(value);
            }
        }

        public bool IN_OUTIsNull
        {
            get { return this.m_IN_OUTIsNull; }
            set
            {
                this.m_IN_OUTIsNull = value;
                if (value == true)
                    this.IN_OUT = -1;
            }
        }

        [OracleTypes.OracleObjectMappingAttribute("IN_OUT")]
        public int IN_OUT
        {
            get { return this.m_IN_OUT; }
            set
            {
                this.m_IN_OUT = value;

                if (Enum.IsDefined(typeof(TipoComunicazione), value))
                    base.TipoCom = (TipoComunicazione)value;
            }
        }
        #endregion

        #region "Public Methods"
        public virtual void FromCustomObject(OracleClient.OracleConnection con, System.IntPtr pUdt)
        {
            OracleTypes.OracleUdt.SetValue(con, pUdt, "RUBR_ENTITA_USED", this.RUBR_ENTITA_USED);
            if ((REF_ID_SOTTOTITOLOIsNull == false))
            {
                OracleTypes.OracleUdt.SetValue(con, pUdt, "REF_ID_SOTTOTITOLO", this.RefIdSottotitolo);
            }
            OracleTypes.OracleUdt.SetValue(con, pUdt, "NOTE_TIT", this.NoteTitolo);
            OracleTypes.OracleUdt.SetValue(con, pUdt, "COM_CODE", this.ComCode);
            OracleTypes.OracleUdt.SetValue(con, pUdt, "FLG_NOTIFICA", this.FLG_NOTIFICA);
            OracleTypes.OracleUdt.SetValue(con, pUdt, "UTE_INS", this.UtenteInserimento);
            OracleTypes.OracleUdt.SetValue(con, pUdt, "MAIL_NOTIFICA", this.MailNotifica);
            OracleTypes.OracleUdt.SetValue(con, pUdt, "COM_FLUSSI", this.COM_FLUSSI);
            OracleTypes.OracleUdt.SetValue(con, pUdt, "COM_FLUSSI_PROT", this.COM_FLUSSI_PROT);
            OracleTypes.OracleUdt.SetValue(con, pUdt, "TITOLO", this.Titolo);
            OracleTypes.OracleUdt.SetValue(con, pUdt, "COM_ALLEGATI", this.COM_ALLEGATI);
            OracleTypes.OracleUdt.SetValue(con, pUdt, "NOTE_SOT", this.NoteSottotitolo);
            OracleTypes.OracleUdt.SetValue(con, pUdt, "APP_CODE", this.AppCode);
            OracleTypes.OracleUdt.SetValue(con, pUdt, "SOTTOTITOLO", this.Sottotitolo);
            OracleTypes.OracleUdt.SetValue(con, pUdt, "MAIL_COM", this.MAIL_COM);
            OracleTypes.OracleUdt.SetValue(con, pUdt, "COD_APP_INS", this.CodAppInserimento);
            if ((ID_COMIsNull == false))
            {
                OracleTypes.OracleUdt.SetValue(con, pUdt, "ID_COM", this.IdComunicazione);
            }
            OracleTypes.OracleUdt.SetValue(con, pUdt, "ORIG_UID", this.OrigUID);
            if ((AZ_PROTIsNull == false))
            {
                OracleTypes.OracleUdt.SetValue(con, pUdt, "AZ_PROT", this.AZ_PROT);
            }
            if ((IN_OUTIsNull == false))
            {
                OracleTypes.OracleUdt.SetValue(con, pUdt, "IN_OUT", this.IN_OUT);
            }
        }

        public virtual void ToCustomObject(OracleClient.OracleConnection con, System.IntPtr pUdt)
        {
            this.RUBR_ENTITA_USED = ((RubrEntitaUsedListType)(OracleTypes.OracleUdt.GetValue(con, pUdt, "RUBR_ENTITA_USED")));
            this.REF_ID_SOTTOTITOLOIsNull = OracleTypes.OracleUdt.IsDBNull(con, pUdt, "REF_ID_SOTTOTITOLO");
            if ((REF_ID_SOTTOTITOLOIsNull == false))
            {
                this.RefIdSottotitolo = ((long)(OracleTypes.OracleUdt.GetValue(con, pUdt, "REF_ID_SOTTOTITOLO")));
            }
            this.NoteTitolo = ((string)(OracleTypes.OracleUdt.GetValue(con, pUdt, "NOTE_TIT")));
            this.ComCode = ((string)(OracleTypes.OracleUdt.GetValue(con, pUdt, "COM_CODE")));
            this.FLG_NOTIFICA = ((string)(OracleTypes.OracleUdt.GetValue(con, pUdt, "FLG_NOTIFICA")));
            this.UtenteInserimento = ((string)(OracleTypes.OracleUdt.GetValue(con, pUdt, "UTE_INS")));
            this.MailNotifica = ((string)(OracleTypes.OracleUdt.GetValue(con, pUdt, "MAIL_NOTIFICA")));
            this.COM_FLUSSI = ((ComFlussoListType)(OracleTypes.OracleUdt.GetValue(con, pUdt, "COM_FLUSSI")));
            this.COM_FLUSSI_PROT = ((ComFlussoListType)(OracleTypes.OracleUdt.GetValue(con, pUdt, "COM_FLUSSI_PROT")));
            this.Titolo = ((string)(OracleTypes.OracleUdt.GetValue(con, pUdt, "TITOLO")));
            this.COM_ALLEGATI = ((ComAllegatoListType)(OracleTypes.OracleUdt.GetValue(con, pUdt, "COM_ALLEGATI")));
            this.NoteSottotitolo = ((string)(OracleTypes.OracleUdt.GetValue(con, pUdt, "NOTE_SOT")));
            this.AppCode = ((string)(OracleTypes.OracleUdt.GetValue(con, pUdt, "APP_CODE")));
            this.Sottotitolo = ((string)(OracleTypes.OracleUdt.GetValue(con, pUdt, "SOTTOTITOLO")));
            this.MAIL_COM = ((MailContentType)(OracleTypes.OracleUdt.GetValue(con, pUdt, "MAIL_COM")));
            this.CodAppInserimento = ((string)(OracleTypes.OracleUdt.GetValue(con, pUdt, "COD_APP_INS")));
            this.ID_COMIsNull = OracleTypes.OracleUdt.IsDBNull(con, pUdt, "ID_COM");
            if ((ID_COMIsNull == false))
            {
                this.IdComunicazione = ((long)(OracleTypes.OracleUdt.GetValue(con, pUdt, "ID_COM")));
            }
            this.OrigUID = ((string)(OracleTypes.OracleUdt.GetValue(con, pUdt, "ORIG_UID")));
            this.AZ_PROTIsNull = OracleTypes.OracleUdt.IsDBNull(con, pUdt, "AZ_PROT");
            if ((AZ_PROTIsNull == false))
            {
                this.AZ_PROT = ((int)(OracleTypes.OracleUdt.GetValue(con, pUdt, "AZ_PROT")));
            }
            this.IN_OUTIsNull = OracleTypes.OracleUdt.IsDBNull(con, pUdt, "IN_OUT");
            if ((IN_OUTIsNull == false))
            {
                this.IN_OUT = ((int)(OracleTypes.OracleUdt.GetValue(con, pUdt, "IN_OUT")));
            }
        }

        public virtual void ReadXml(System.Xml.XmlReader reader)
        {
            // TODO : Read Serialized Xml Data
        }

        public virtual void WriteXml(System.Xml.XmlWriter writer)
        {
            // TODO : Serialize object to xml data
        }

        public virtual XmlSchema GetSchema()
        {
            // TODO : Implement GetSchema
            return null;
        }

        public override string ToString()
        {
            // TODO : Return a string that represents the current object
            return "";
        }

        public static ComunicazioniType Parse(string str)
        {
            // TODO : Add code needed to parse the string and get the object represented by the string
            return new ComunicazioniType();
        }
        #endregion
    }

    // Factory to create an object for the above class
    [OracleTypes.OracleCustomTypeMappingAttribute("FAXPEC.COMUNICAZIONI_TYPE")]
    public class ComunicazioniTypeFactory : OracleTypes.IOracleCustomTypeFactory
    {

        public virtual OracleTypes.IOracleCustomType CreateObject()
        {
            ComunicazioniType obj = new ComunicazioniType();
            return obj;
        }
    }
}
